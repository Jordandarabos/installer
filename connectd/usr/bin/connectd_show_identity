#!/bin/sh 
#
#  remote.it Show Identity Script shows the system identity
#
#  NOTE: This is a development script and not used in a production device
#
#  connectd_show_identity 
#
#  only shows information - no changes are made with this script
#
#  remot3.it, Inc. : https://remote.it
BASEDIR=
# pick up global options, e.g. PLATFORM and API
. "$BASEDIR"/usr/bin/connectd_oem_settings

id=$(oemGetSystemId)
mac=$(oemGetDefaultHardwareId)
rk_mac=$(oemGetDefaultRegistrationKey)
os=$(oemGetOSLabel)
tcp=$(oemGetTCPServices)

r3=$(grep VERSION= /usr/bin/connectd_options | sed 's/VERSION=//g')
hwid=$(cat /etc/connectd/hardware_id.txt 2>/dev/null)
rk=$(cat /etc/connectd/registration_key.txt 2>/dev/null)
api=$(grep apiServer= /usr/bin/connectd_options | sed 's/apiServer=//g')
apv=$(grep apiVersion= /usr/bin/connectd_options | sed 's/apiVersion=//g')

if [ -f "/etc/connectd/bulk_identification_code.txt" ]; then
    bic=$(cat /etc/connectd/bulk_identification_code.txt)
else
    bic="No set"
fi

echo "OS:$os"
echo "CPU ID:$id"
echo "Hardware ID manufacturer:$mac"
echo "Hardware ID default:$hwid"
echo "Registration Key default:$rk_mac"
echo "Registration Key manufacturer:$rk"
echo "TCP Services:$tcp"
echo "remote.it Package:$r3"
echo "remote.it API:$api$apv" | sed 's/"//g'
echo "Bulk Identification Code:$bic"